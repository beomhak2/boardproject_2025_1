<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="board1">
	
	<select id= "list" resultType="Post">
		SELECT p.post_id, p.title, p.content, u.user_id, p.view_cnt
		FROM post p left join user u on p.user_id = u.user_id
	</select>
	
	<!-- 스퀸스를 사용하여 다음 ID 가져오기 -->
	<select id="getNextPostId" resultType="long">
		select post_seq.nextval form dual
	</select>
	
	<insert id="add">
		insert into post(
			post_id, title, content
		) values (
			post_seq.nextval,
			#{title},
			#{content},
		)
	</insert>
	
	<select id="item" resultType="Post">
		select * from post
		where post_id=#{post_id};
	</select>
	
</mapper>
